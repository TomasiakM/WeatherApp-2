(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(19),i=n.n(r),s=n(6),o=n(53),l=n(8),d=n(13),j=n(1),u=function(){var e=Object(l.b)();return Object(j.jsx)("nav",{className:"navbar navbar-dark px-0",children:Object(j.jsxs)("div",{className:"container-fluid px-1",children:[Object(j.jsx)(d.b,{to:"/",children:Object(j.jsx)("h6",{className:"navbar-brand m-0",children:"WeatherApp"})}),Object(j.jsx)("button",{className:"btn btn-light btn-sm",onClick:function(){e({type:"LOGOUT"})},children:"Wyloguj si\u0119"})]})})},b=n(9),m=function(){var e=Object(l.c)((function(e){return e.data.trackedCities})),t=Object(l.b)(),n=Object(c.useState)("default"),a=Object(b.a)(n,2),r=a[0],i=a[1],s=[{id:776069,name:"Bia\u0142ystok",state:"",country:"PL",coord:{lon:23.15,lat:53.133331}},{id:3102014,name:"Bydgoszcz",state:"",country:"PL",coord:{lon:18.00762,lat:53.123501}},{id:3099434,name:"Gda\u0144sk",state:"",country:"PL",coord:{lon:18.64637,lat:54.352051}},{id:3098722,name:"Gorz\xf3w Wielkopolski",state:"",country:"PL",coord:{lon:15.22878,lat:52.73679}},{id:3096472,name:"Katowice",state:"",country:"PL",coord:{lon:19.02754,lat:50.258419}},{id:769250,name:"Kielce",state:"",country:"PL",coord:{lon:20.62752,lat:50.870331}},{id:3094802,name:"Krak\xf3w",state:"",country:"PL",coord:{lon:19.91667,lat:50.083328}},{id:765876,name:"Lublin",state:"",country:"PL",coord:{lon:22.566669,lat:51.25}},{id:3093133,name:"\u0141\xf3d\u017a",state:"",country:"PL",coord:{lon:19.466669,lat:51.75}},{id:763166,name:"Olsztyn",state:"",country:"PL",coord:{lon:20.49416,lat:53.779949}},{id:3090048,name:"Opole",state:"",country:"PL",coord:{lon:17.950001,lat:50.666672}},{id:3088171,name:"Pozna\u0144",state:"",country:"PL",coord:{lon:16.92993,lat:52.406921}},{id:759734,name:"Rzesz\xf3w",state:"",country:"PL",coord:{lon:21.99901,lat:50.041321}},{id:3083829,name:"Szczecin",state:"",country:"PL",coord:{lon:14.55302,lat:53.42894}},{id:3083271,name:"Toru\u0144",state:"",country:"PL",coord:{lon:18.598141,lat:53.013748}},{id:756135,name:"Warszawa",state:"",country:"PL",coord:{lon:21.01178,lat:52.229771}},{id:3081368,name:"Wroc\u0142aw",state:"",country:"PL",coord:{lon:17.033331,lat:51.099998}},{id:3080165,name:"Zielona G\xf3ra",state:"",country:"PL",coord:{lon:15.50643,lat:51.935478}}],o=s.reduce((function(t,n){return e.find((function(e){return e.id===n.id}))||t.push(n),t}),[]);return Object(j.jsx)("div",{className:"d-flex justify-content-end py-3 px-1",children:o.length>0?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("select",{className:"form-select mr-1",value:r||"default",onChange:function(e){i(e.target.value)},children:[Object(j.jsx)("option",{disabled:!0,value:"default",children:"-- wybierz miasto --"}),o.map((function(e){return Object(j.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(j.jsx)("button",{className:"btn btn-light btn-sm",onClick:function(){if("default"!==r){var e=s.find((function(e){return e.id===parseInt(r)}));t({type:"ADD_CITY",payload:e}),i("default")}},children:"Dodaj"})]}):""})},h=function(){return Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-droplet-half",viewBox:"0 0 16 16",children:[Object(j.jsx)("path",{fillRule:"evenodd",d:"M7.21.8C7.69.295 8 0 8 0c.109.363.234.708.371 1.038.812 1.946 2.073 3.35 3.197 4.6C12.878 7.096 14 8.345 14 10a6 6 0 0 1-12 0C2 6.668 5.58 2.517 7.21.8zm.413 1.021A31.25 31.25 0 0 0 5.794 3.99c-.726.95-1.436 2.008-1.96 3.07C3.304 8.133 3 9.138 3 10c0 0 2.5 1.5 5 .5s5-.5 5-.5c0-1.201-.796-2.157-2.181-3.7l-.03-.032C9.75 5.11 8.5 3.72 7.623 1.82z"}),Object(j.jsx)("path",{fillRule:"evenodd",d:"M4.553 7.776c.82-1.641 1.717-2.753 2.093-3.13l.708.708c-.29.29-1.128 1.311-1.907 2.87l-.894-.448z"})]})},x=n(52),O=function(e){var t=e.city,n=Object(c.useState)(),a=Object(b.a)(n,2),r=a[0],i=a[1],s=Object(c.useState)(!0),o=Object(b.a)(s,2),u=o[0],m=o[1],O=Object(c.useState)(!0),p=Object(b.a)(O,2),f=p[0],g=p[1],y=Object(l.b)();Object(c.useEffect)((function(){var e="http://api.openweathermap.org/data/2.5/weather?id=".concat(t.id,"&appid=").concat("ee4d0d4fdfdc4f6ac216c0805fcfe853","&units=metric"),n=function(){m(!0),g(!1),fetch(e).then((function(e){return e.json()})).then((function(e){return i(e)})).catch((function(){return g(!0)})).finally((function(){return m(!1)}))};n();var c=setInterval((function(){n()}),6e4);return function(){return clearInterval(c)}}),[t.id]);return Object(j.jsxs)("div",{className:"d-flex flex-wrap align-items-center justify-content-center justify-content-sm-between\r\nflex-column flex-sm-row my-2 p-2 rounded",style:{background:"#40739e"},children:[Object(j.jsx)("div",{className:"d-flex",children:Object(j.jsx)("h5",{className:"m-0",children:t.name})}),Object(j.jsxs)("div",{className:"d-flex flex-sm-row flex-column",children:[u&&Object(j.jsx)(x.a,{animation:"border",role:"status",children:Object(j.jsx)("span",{className:"sr-only",children:"Loading..."})}),f&&Object(j.jsx)("div",{className:"rounded bg-danger text-light py-1 px-2",children:"Error..."}),!u&&!f&&Object(j.jsxs)("div",{className:"d-flex align-items-center mt-2 mt-sm-0",children:[Object(j.jsxs)("div",{className:"d-flex align-items-center",children:[Object(j.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(r.weather[0].icon,".png"),alt:r.weather[0].description,style:{marginTop:"-10px",marginBottom:"-10px"}}),Math.round(10*r.main.temp)/10,"\xb0C"]}),Object(j.jsxs)("div",{className:"d-flex align-items-center ml-3",children:[Object(j.jsx)(h,{className:"mr-2"}),r.main.humidity,"%"]})]}),Object(j.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(j.jsx)(d.b,{to:"/weather/".concat(t.id),className:"btn btn-light btn-sm ml-sm-2 ml-0 mt-sm-0 mt-2",children:"Szczeg\xf3\u0142y"}),Object(j.jsx)("button",{className:"btn btn-danger btn-sm ml-2 mt-sm-0 mt-2",onClick:function(){y({type:"DELETE_CITY",payload:t.id})},children:"Usu\u0144"})]})]})]})},p=function(){var e=Object(l.c)((function(e){return e.data})),t=e.isLogged,n=e.trackedCities;return t?Object(j.jsxs)(o.a,{children:[Object(j.jsx)(u,{}),Object(j.jsx)(m,{}),Object(j.jsx)("div",{className:"text-light",children:n.map((function(e){return Object(j.jsx)(O,{city:e},e.id)}))})]}):Object(j.jsx)(s.a,{to:"/login"})},f=n(22),g=n(7),y=n(54),v=function(){var e=Object(l.c)((function(e){return e.data.isLogged})),t=Object(l.c)((function(e){return e.data.loginError})),n=Object(l.b)(),a=Object(c.useState)({}),r=Object(b.a)(a,2),i=r[0],d=r[1],u=Object(c.useState)({login:"",password:""}),m=Object(b.a)(u,2),h=m[0],x=m[1];if(e)return Object(j.jsx)(s.a,{to:"/"});var O=function(e){x(Object(g.a)(Object(g.a)({},h),{},Object(f.a)({},e.target.name,e.target.value)))},p=i.login,v=i.password;return Object(j.jsx)(o.a,{children:Object(j.jsx)("div",{className:"d-flex align-items-center justify-content-center vh-100 text-light",children:Object(j.jsx)("div",{className:"rounded p-4",style:{background:"#487eb0",width:"100%",maxWidth:"400px"},children:Object(j.jsxs)(y.a,{method:"POST",children:[Object(j.jsx)(y.a.Group,{children:Object(j.jsx)("h3",{className:"center",children:"Logowanie"})}),Object(j.jsxs)(y.a.Group,{children:[Object(j.jsx)(y.a.Label,{htmlFor:"login",children:"Login"}),Object(j.jsx)(y.a.Control,{type:"text",id:"login",name:"login",onChange:O})]}),p&&Object(j.jsx)(y.a.Group,{children:Object(j.jsx)("div",{className:"alert alert-danger p-2",role:"alert",children:p})}),Object(j.jsxs)(y.a.Group,{children:[Object(j.jsx)(y.a.Label,{htmlFor:"password",children:"Has\u0142o"}),Object(j.jsx)(y.a.Control,{type:"password",id:"password",name:"password",onChange:O})]}),v&&Object(j.jsx)(y.a.Group,{children:Object(j.jsx)("div",{className:"alert alert-danger p-2",role:"alert",children:v})}),t&&!p&&!v&&Object(j.jsx)(y.a.Group,{children:Object(j.jsx)("div",{className:"alert alert-danger p-2",role:"alert",children:"B\u0142\u0119dny login lub has\u0142o!"})}),Object(j.jsx)(y.a.Group,{children:Object(j.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault();var t=function(){var e={},t=h.login,n=h.password;return t.length<3&&(e=Object(g.a)(Object(g.a)({},e),{},{login:"Wymagane min 3 znaki!"})),n.length<3&&(e=Object(g.a)(Object(g.a)({},e),{},{password:"Wymagane min 3 znaki!"})),""===t&&(e=Object(g.a)(Object(g.a)({},e),{},{login:"Login jest wymagany!"})),""===n&&(e=Object(g.a)(Object(g.a)({},e),{},{password:"Has\u0142o jest wymagane!"})),d(e),e}(),c=t.login,a=t.password;c||a||n({type:"LOGIN",payload:h})},className:"btn btn-outline-light btn-block",children:"Zaloguj si\u0119"})})]})})})})},w=n(32),N=function(e){var t=e.forecastData.slice(1,26),n=t.map((function(e,t){return{x:t,y:Math.round(10*e.temp)/10}})),c=t.map((function(e,t){return{x:t,y:e.humidity}})),r=a.a.useMemo((function(){return[{label:"Temperatura",data:n,secondaryAxisID:"temp"},{label:"Wilgotno\u015b\u0107",data:c,secondaryAxisID:"humidity"}]}),[n,c]),i=a.a.useMemo((function(){return[{primary:!0,type:"linear",position:"bottom",format:function(e){var n;return new Date(1e3*(null===(n=t[e])||void 0===n?void 0:n.dt)).getHours()}},{type:"linear",position:"left",id:"temp",format:function(e){return"".concat(e,"\xb0C")}},{type:"linear",position:"right",id:"humidity",format:function(e){return"".concat(e,"%")}}]}),[t]);return Object(j.jsxs)("div",{className:"mx-auto",style:{maxWidth:"750px"},children:[Object(j.jsxs)("h5",{className:"text-light",children:[Object(j.jsx)("span",{style:{color:"#4AB5EB"},children:"Temperatura"})," i"," ",Object(j.jsx)("span",{style:{color:"#FC6868"},children:"wilgotno\u015b\u0107"})," na najbli\u017csze 24h"]}),Object(j.jsx)("div",{style:{height:"300px"},children:Object(j.jsx)(w.Chart,{data:r,axes:i,dark:!0})})]})},L=function(e){var t=e.currentWeather,n=e.city,c=n.name,a=n.country,r=t.temp,i=t.pressure,s=t.humidity,o=t.wind_speed,l=t.clouds,d=t.weather[0],u=d.icon,b=d.description;return Object(j.jsxs)("div",{className:"d-flex flex-md-row flex-column justify-content-center align-items-center mx-auto p-4 my-3 rounded text-light",style:{background:"#40739e",maxWidth:"750px"},children:[Object(j.jsxs)("div",{className:"d-flex flex-column align-items-center text-center",children:[Object(j.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(u,".png"),alt:b,style:{margin:"-8px 0"}}),Object(j.jsxs)("h3",{className:"mb-0",children:[Math.round(10*r)/10,"\xb0C"]}),Object(j.jsxs)("h5",{className:"mb-0 ",children:[c,", ",a]}),Object(j.jsx)("p",{className:"mb-0",children:b})]}),Object(j.jsx)("div",{className:"mx-0 mx-md-4 my-2 my-md-0"}),Object(j.jsxs)("div",{className:"d-flex flex-column align-items-center text-center",children:[Object(j.jsxs)("p",{className:"mb-1",children:["Ci\u015bnienie: ",i,"hPa"]}),Object(j.jsxs)("p",{className:"mb-1",children:["Wilgotno\u015b\u0107: ",s,"%"]}),Object(j.jsxs)("p",{className:"mb-1",children:["Wiatr: ",o,"m/s"]}),Object(j.jsxs)("p",{className:"mb-1",children:["Zachmurzenie: ",l,"%"]})]})]})},C=function(e){var t=e.match,n=Object(c.useState)(),a=Object(b.a)(n,2),r=a[0],i=a[1],d=Object(c.useState)(!0),m=Object(b.a)(d,2),h=m[0],O=m[1],p=Object(c.useState)(!1),f=Object(b.a)(p,2),g=f[0],y=f[1],v=Object(l.c)((function(e){return e.data.isLogged})),w=Object(l.c)((function(e){return e.data.trackedCities.find((function(e){return e.id===parseInt(t.params.id)}))}));return Object(c.useEffect)((function(){if(w){var e="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(w.coord.lat,"&lon=").concat(w.coord.lon,"&exclude=minutely,daily,alerts&appid=").concat("ee4d0d4fdfdc4f6ac216c0805fcfe853","&units=metric&lang=pl");O(!0),fetch(e).then((function(e){return e.json()})).then((function(e){return i(e)})).catch((function(){return y(!0)})).finally((function(){return O(!1)}))}}),[w]),v?void 0===w?Object(j.jsx)(s.a,{to:"/404"}):Object(j.jsxs)(o.a,{children:[Object(j.jsx)(u,{}),h?Object(j.jsx)("div",{className:"rounded p-4 text-light d-flex justify-content-center mx-auto",style:{background:"#40739e",maxWidth:"750px"},children:Object(j.jsx)(x.a,{animation:"border",role:"status",children:Object(j.jsx)("span",{className:"sr-only",children:"Loading..."})})}):g?Object(j.jsx)("div",{className:"rounded bg-danger text-light p-2 mx-auto",style:{maxWidth:"750px"},children:"Error..."}):r?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(L,{currentWeather:r.current,city:w}),Object(j.jsx)(N,{forecastData:r.hourly})]}):""]}):Object(j.jsx)(s.a,{to:"/login"})},k=function(){return Object(j.jsx)(o.a,{children:Object(j.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center text-light vh-100",children:[Object(j.jsx)("h2",{children:"Error 404"}),Object(j.jsx)("h3",{children:"Strona nie istnieje"}),Object(j.jsx)("div",{children:Object(j.jsx)(d.b,{to:"/",className:"btn btn-light btn-sm",children:"Wr\xf3\u0107 do aplikacji"})})]})})},P=function(){return Object(j.jsx)("div",{children:Object(j.jsxs)(s.d,{children:[Object(j.jsx)(s.b,{exact:!0,path:"/",component:p}),Object(j.jsx)(s.b,{exact:!0,path:"/login",component:v}),Object(j.jsx)(s.b,{exact:!0,path:"/weather/:id",component:C}),Object(j.jsx)(s.b,{exact:!0,path:"/404",component:k}),Object(j.jsx)(s.b,{path:"/",render:function(){return Object(j.jsx)(s.a,{to:"/404"})}})]})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},W=n(15),E=n(34),S={isLogged:!1,loginError:!1,trackedCities:[]},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":var n=t.payload,c=n.login,a=n.password;return"admin"===c&&"admin"===a?Object(g.a)(Object(g.a)({},e),{},{isLogged:!0,loginError:!1}):Object(g.a)(Object(g.a)({},e),{},{isLogged:!1,loginError:!0});case"LOGOUT":return Object(g.a)(Object(g.a)({},e),{},{isLogged:!1});case"ADD_CITY":return Object(g.a)(Object(g.a)({},e),{},{trackedCities:[].concat(Object(E.a)(e.trackedCities),[t.payload])});case"DELETE_CITY":return Object(g.a)(Object(g.a)({},e),{},{trackedCities:e.trackedCities.filter((function(e){return e.id!==t.payload}))});default:return e}},D=Object(W.combineReducers)({data:T}),G=n(33),I=Object(W.createStore)(D,Object(G.composeWithDevTools)());n(49),n(50);i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(l.a,{store:I,children:Object(j.jsx)(d.a,{basename:"/WeatherApp-2",children:Object(j.jsx)(P,{})})})}),document.getElementById("root")),z()}},[[51,1,2]]]);
//# sourceMappingURL=main.995f7e6c.chunk.js.map